<!DOCTYPE html>
<html lang="en" ng-app="clbr" ng-controller="ClickberryCtrl">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title ng-bind="pageTitle">Clickberry Video Portal</title>
    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon">
    <link rel="icon" href="/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/angular-material.min.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/clbr.min.css">
  </head>
  <body>
    <div layout="column" class="ng-cloak">
      <cb-menu></cb-menu>
      <div class="cb-page-content">
        <div ui-view></div>
        <script type="text/ng-template" id="home.html">
          <div layout-padding ng-cloak ng-if="projects.length" infinite-scroll="loadProjects()" class="video-grid">
            <md-grid-list md-cols="12" md-row-height="1:1" md-gutter="20px">
              <md-grid-tile ng-repeat="project in projects" md-rowspan-gt-md="{{project.rows}}" md-rowspan="8" md-colspan-gt-md="{{project.cols}}" md-colspan="12"><a href="#" ui-sref="home.video({id: project.id})"><span ng-style="{'background-image': 'url({{project.imageUri}})'}" class="image"><img ng-src="{{project.imageUri}}"></span></a>
                <md-grid-tile-footer>
                  <h3> <a href="#" ui-sref="home.video({id: project.id})" title="{{project.name}}">{{project.name}}</a></h3>
                  <div class="sub-info"><span>{{project.description}}</span><i ng-if="project.description"> Â· </i><span>{{project.created | apiDateFromNow}}</span></div>
                </md-grid-tile-footer>
              </md-grid-tile>
            </md-grid-list>
          </div>
          <div layout="row" flex="100" ng-show="loading" align-children="center">
            <md-button aria-label="Video List Loading" flex ng-disabled="true"><span>Loading </span><i class="fa fa-circle-o-notch fa-spin faster"></i></md-button>
          </div>
          <div ui-view="video"></div>
        </script>
        <script type="text/ng-template" id="menu.html">
          <md-toolbar ng-class="{'md-tall': menuExpanded}" class="cb-top-menu md-hue-2">
            <div class="md-toolbar-tools"><a ng-href="/" ui-sref="home" aria-label="Clickberry Home" class="cb-brand-menu"></a><span flex></span>
              <md-button ng-href="http://editor.qa.clbr.ws/" class="md-primary hide show-gt-md">Online editor</md-button>
              <md-button ng-show="!user &amp;&amp; !loading" ng-href="#" ui-sref="signin" class="md-primary hide show-gt-md">Sign in</md-button>
              <md-button ng-show="!user &amp;&amp; !loading" ng-href="#" ui-sref="signup" class="cb-user-menu hide show-gt-md">Sign up for free</md-button>
              <md-button ng-show="user &amp;&amp; !loading" ng-href="#" ui-sref="my-videos" class="md-primary hide show-gt-md">Videos</md-button>
              <md-menu ng-show="user &amp;&amp; !loading" md-position-mode="target-right target" class="hide show-gt-md">
                <md-button aria-label="Account" ng-click="$mdOpenMenu($event)" ng-class="{'md-icon-button': !user.email &amp;&amp; !user.name}" class="cb-user-menu"><span md-menu-origin><span ng-if="user.name || user.email" ng-bind="user.name || user.email"></span><i ng-if="!user.email &amp;&amp; !user.name" class="fa fa-cog"></i></span></md-button>
                <md-menu-content width="2">
                  <md-menu-item>
                    <md-button ng-href="#" ui-sref="profile"><span md-menu-align-target>Profile</span></md-button>
                  </md-menu-item>
                  <md-menu-item>
                    <md-button ng-href="#" ui-sref="account-settings"><span md-menu-align-target>Settings                            </span></md-button>
                  </md-menu-item>
                  <md-menu-item>
                    <md-button ng-click="signoff()"><span md-menu-align-target>Sign off</span></md-button>
                  </md-menu-item>
                </md-menu-content>
              </md-menu>
              <md-button ng-show="loading" aria-label="Profile Loading" class="md-icon-button"><i class="fa fa-circle-o-notch fa-spin faster">                                   </i></md-button>
              <md-button aria-label="Menu" ng-click="toggleMenu($event)" class="md-icon-button hide-gt-md"><i class="fa fa-bars"></i></md-button>
            </div>
            <md-button ng-show="menuExpanded" ng-href="http://editor.qa.clbr.ws/" class="md-primary hide-gt-md">Online editor</md-button>
            <md-button ng-show="menuExpanded &amp;&amp; !user" ng-click="signin()" class="md-primary hide-gt-md">Sign in</md-button>
            <md-button ng-show="menuExpanded &amp;&amp; !user" ng-click="signup()" class="cb-user-menu hide-gt-md">Sign up for free</md-button>
            <md-button ng-show="menuExpanded &amp;&amp; user" class="md-primary hide-gt-md">Videos</md-button>
            <md-menu ng-show="menuExpanded &amp;&amp; user" md-position-mode="target-right target" class="hide-gt-md">
              <md-button aria-label="Account Settings" ng-click="$mdOpenMenu($event)" class="cb-user-menu"><span md-menu-origin><span ng-if="user.name || user.email" ng-bind="user.name || user.email"></span><span ng-if="!user.email &amp;&amp; !user.name">Account</span></span></md-button>
              <md-menu-content width="2">
                <md-menu-item>
                  <md-button ng-click="profile()"><span md-menu-align-target>Profile</span></md-button>
                </md-menu-item>
                <md-menu-item>
                  <md-button ng-click="settings()"><span md-menu-align-target>Settings</span></md-button>
                </md-menu-item>
                <md-menu-item>
                  <md-button ng-click="signoff()"><span md-menu-align-target>Sign off</span></md-button>
                </md-menu-item>
              </md-menu-content>
            </md-menu>
          </md-toolbar>
        </script>
        <script type="text/ng-template" id="signup.html">
          <div layout="row" layout-align="center">
            <div flex="25" flex-sm="0" flex-md="20"></div>
            <div flex="50" flex-sm="100" flex-md="60">
              <form name="signupform" ng-submit="submit(signup)">
                <md-card>
                  <md-card-content>
                    <div layout="row">
                      <div flex="10"></div>
                      <div flex="80">
                        <h1 class="md-display-1">Sign up</h1>
                        <p>Sign up with your e-mail address</p>
                        <md-input-container class="md-title">
                          <label>Email</label>
                          <input required type="email" name="signupEmail" ng-model="signup.email" minlength="10" maxlength="100" ng-pattern="/^.+@.+..+$/">
                        </md-input-container>
                        <md-input-container class="md-title">
                          <label>Password</label>
                          <input type="password" required name="signupPassword" ng-model="signup.password" minlength="6">
                        </md-input-container>
                        <md-input-container class="md-title">
                          <label>Confirm Password</label>
                          <input type="password" required name="signupConfirmPassword" ng-model="signup.confirmPassword" cb-confirm="signup.password">
                        </md-input-container>
                        <md-card-actions layout="row" layout-align="end center">
                          <md-button ng-href="#" ui-sref="home">Cancel</md-button>
                          <md-button type="submit" ng-disabled="signupform.$invalid || loading" class="md-raised md-accent"><i ng-show="loading" class="fa fa-circle-o-notch fa-spin faster"> </i><span> Submit</span></md-button>
                        </md-card-actions>
                      </div>
                      <div flex="10"></div>
                    </div>
                  </md-card-content>
                </md-card>
                <p class="md-body-1 text-center">or register using your social identity</p>
              </form>
              <div layout="row" layout-padding layout-align="center" class="social-icons">
                <md-button aria-label="Facebook" ng-click="goFacebook()" class="md-fab cb-facebook"><i class="fa fa-facebook"></i></md-button>
                <md-button aria-label="Twitter" ng-click="goTwitter()" class="md-fab cb-twitter"><i class="fa fa-twitter"></i></md-button>
                <md-button aria-label="Google" ng-click="goGoogle()" class="md-fab cb-google"><i class="fa fa-google"></i></md-button>
                <md-button aria-label="Vk" ng-click="goVk()" class="md-fab cb-vk"><i class="fa fa-vk"></i></md-button>
              </div>
            </div>
            <div flex="25" flex-sm="0" flex-md="20"></div>
          </div>
        </script>
        <script type="text/ng-template" id="signin.html">
          <div layout="row" layout-align="center">
            <div flex="25" flex-sm="0" flex-md="20"></div>
            <div flex="50" flex-sm="100" flex-md="60">
              <form name="siginform" ng-submit="submit(signin)">
                <md-card>
                  <md-card-content>
                    <div layout="row">
                      <div flex="10"></div>
                      <div flex="80">
                        <h1 class="md-display-1">Sign in</h1>
                        <md-input-container class="md-title">
                          <label>Email</label>
                          <input required type="email" name="signinEmail" ng-model="signin.email" minlength="10" maxlength="100" ng-pattern="/^.+@.+..+$/">
                        </md-input-container>
                        <md-input-container class="md-title">
                          <label>Password</label>
                          <input type="password" required name="signinPassword" ng-model="signin.password" minlength="6">
                        </md-input-container>
                        <md-card-actions layout="row" layout-align="end center">
                          <md-button ng-href="#" ui-sref="home">Cancel</md-button>
                          <md-button type="submit" ng-disabled="siginform.$invalid || loading" class="md-raised md-accent"><i ng-show="loading" class="fa fa-circle-o-notch fa-spin faster"> </i><span> Submit</span></md-button>
                        </md-card-actions>
                      </div>
                      <div flex="10"></div>
                    </div>
                  </md-card-content>
                </md-card>
                <p class="md-body-1 text-center">or login using your social identity</p>
              </form>
              <div layout="row" layout-padding layout-align="center" class="social-icons">
                <md-button aria-label="Facebook" ng-click="goFacebook()" class="md-fab cb-facebook"><i class="fa fa-facebook"></i></md-button>
                <md-button aria-label="Twitter" ng-click="goTwitter()" class="md-fab cb-twitter"><i class="fa fa-twitter"></i></md-button>
                <md-button aria-label="Google" ng-click="goGoogle()" class="md-fab cb-google"><i class="fa fa-google"></i></md-button>
                <md-button aria-label="Vk" ng-click="goVk()" class="md-fab cb-vk"><i class="fa fa-vk"></i></md-button>
              </div>
            </div>
            <div flex="25" flex-sm="0" flex-md="20"></div>
          </div>
        </script>
        <script type="text/ng-template" id="profile.html">
          <div layout="row" layout-align="center">
            <div flex="25" flex-sm="0" flex-md="20"></div>
            <div flex="50" flex-sm="100" flex-md="60">
              <md-card>
                <md-card-content>
                  <div layout="row">
                    <div flex="10"></div>
                    <div flex="80">
                      <h1 class="md-display-1">Profile details</h1>
                      <div flex="100" layout="row" layout-align="start center">
                        <div ng-if="profile.avatarUrl" style="background-image: url({{profile.avatarUrl}});" class="profile-avatar">   </div><span>
                          <md-button class="md-raised">
                            <label for="avatar-file"> <span ng-if="!profile.avatarUrl">Upload Avatar</span><span ng-if="profile.avatarUrl">Change Avatar</span></label>
                          </md-button></span>
                      </div>
                      <md-input-container></md-input-container>
                      <form name="profileform" ng-submit="submit(profile)">
                        <input type="file" id="avatar-file" accept="image/jpeg,image/png" nv-file-select uploader="uploader" ng-hide="true" ng-if="uploader">
                        <md-input-container class="md-title">
                          <label>Email</label>
                          <input required type="email" name="profileEmail" ng-model="profile.email" minlength="10" maxlength="100" ng-pattern="/^.+@.+..+$/">
                        </md-input-container>
                        <md-input-container class="md-title">
                          <label>Name</label>
                          <input required type="text" name="profileName" ng-model="profile.name">
                        </md-input-container>
                        <md-card-actions layout="row" layout-align="end center">
                          <md-button ng-href="#" ui-sref="home">Cancel</md-button>
                          <md-button type="submit" ng-disabled="profileform.$invalid || loading" class="md-raised md-accent"><i ng-show="loading" class="fa fa-circle-o-notch fa-spin faster"> </i><span> Submit</span></md-button>
                        </md-card-actions>
                      </form>
                      <div flex="10"></div>
                    </div>
                  </div>
                </md-card-content>
              </md-card>
            </div>
            <div flex="25" flex-sm="0" flex-md="20"></div>
          </div>
        </script>
        <script type="text/ng-template" id="account-settings.html">
          <div layout="row" layout-align="center">
            <div flex="25" flex-sm="0" flex-md="20"></div>
            <div flex="50" flex-sm="100" flex-md="60" layout-padding>
              <form name="deleteform" ng-submit="deleteAccount($event)">
                <md-card>
                  <md-card-content>                       
                    <h1 class="md-display-1">Delete Account</h1>
                    <p>All of your data will be deleted permanently.</p>
                    <md-card-actions layout="row" layout-align="end center">
                      <md-button ng-href="#" ui-sref="home">Cancel</md-button>
                      <md-button type="submit" class="md-raised md-warn">Delete Account</md-button>
                    </md-card-actions>
                  </md-card-content>
                </md-card>
              </form>
            </div>
            <div flex="25" flex-sm="0" flex-md="20"></div>
          </div>
        </script>
        <script type="text/ng-template" id="video.html">
        </script>
        <script type="text/ng-template" id="my-videos.html">
          <div layout-padding ng-cloak ng-if="projects.length" class="video-grid video-list">
            <md-grid-list md-cols-gt-md="1" md-cols-sm="1" md-cols-md="1" md-row-height="4:3" md-row-height-gt-md="4:3" md-gutter="30px" md-gutter-gt-md="16px">
              <md-grid-tile ng-repeat="project in projects" md-rowspan-gt-md="1" md-rowspan="1" md-colspan-gt-md="1" md-colspan="1"><a href="#" ui-sref=".video({id: project.id})"><span ng-style="{'background-image': 'url({{project.imageUri}})'}" class="image"><img ng-src="{{project.imageUri}}"></span></a>
                <md-grid-tile-footer>
                  <h3> <a href="#" ui-sref=".video({id: project.id})" title="{{project.name}}">{{project.name}}</a></h3>
                  <div class="sub-info"><span>{{project.description}}</span><i ng-if="project.description"> Â· </i><span>{{project.created | apiDateFromNow}}</span></div>
                </md-grid-tile-footer>
              </md-grid-tile>
            </md-grid-list>
          </div>
          <div layout="row" flex="100" ng-show="loading" align-children="center">
            <md-button aria-label="Video List Loading" flex ng-disabled="true"><span>Loading </span><i class="fa fa-circle-o-notch fa-spin faster"></i></md-button>
          </div>
          <div layout="row" layout-align="center" ng-show="!projects.length &amp;&amp; !loading">
            <div flex="25" flex-sm="0" flex-md="20"></div>
            <div flex="50" flex-sm="100" flex-md="60">
              <md-card>
                <md-card-content>
                  <div layout="row">
                    <div flex="10"></div>
                    <div flex="80">
                      <p>You don't have any videos yet. Start by creating one.</p>
                    </div>
                    <div flex="10"></div>
                  </div>
                </md-card-content>
              </md-card>
            </div>
            <div flex="25" flex-sm="0" flex-md="20">               </div>
          </div>
          <div ui-view="video"></div>
        </script>
      </div>
      <footer class="page-footer">
        <section>
          <div layout-gt-md="row" layout="column">
            <div flex="30" flex-md="100">
              <div class="brand-footer"><img src="/images/brand-footer.png" alt="Clickberry"></div>
              <div class="brand-copyright">
                <p> <span>Made with </span><i class="fa fa-heart"></i><span> by Clickberry</span></p>
              </div>
            </div>
            <div flex-gt-md="15" flex="100" layout-padding>
              <ul class="bottom-menu">
                <li> <a href="#">About Clickberry</a></li>
                <li> <a href="#">Terms of service</a></li>
                <li> <a href="#">Contacts</a></li>
              </ul>
            </div>
            <div flex-gt-md="15" flex="100" layout-padding>
              <ul class="bottom-menu">
                <li> <a href="#">My videos</a></li>
                <li> <a href="#">My likes</a></li>
                <li> <a href="#">Feed</a></li>
                <li> <a href="#">Trends</a></li>
                <li> <a href="#">Profile</a></li>
              </ul>
            </div>
            <div flex-gt-md="15" flex="100" layout-padding>
              <ul class="bottom-menu">
                <li> <a href="#">Online editor</a></li>
                <li> <a href="#">Desktop app</a></li>
              </ul>
            </div>
            <div flex-gt-md="15" flex="100" layout-padding>
              <ul class="bottom-menu">
                <li> <a href="https://github.com/clickberry/web-services">Github</a></li>
                <li> <a href="#">API</a></li>
              </ul>
            </div>
            <div flex-gt-md="10" hide></div>
          </div>
        </section>
      </footer>
    </div>
    <script src="/js/jquery.min.js"></script>
    <script src="/js/angular.min.js"></script>
    <script src="/js/angular-ui-router.min.js"></script>
    <script src="/js/angular-cookies.min.js"></script>
    <script src="/js/angular-material.min.js"></script>
    <script src="/js/moment.min.js"></script>
    <script src="/js/ng-infinite-scroll.min.js"></script>
    <script src="/js/angular-file-upload.min.js"></script>
    <script src="/js/clbr.js"></script>
  </body>
</html>