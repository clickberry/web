!function(n,i){if(!i)return console.error("jQuery required.");var t=n.clbr=n.clbr||{};t.authApi=function(t){return{signup:function(n,o,e){var r={email:n,password:o};i.post(t+"/signup",r).done(function(n){e(null,n)}).fail(function(n,i,t){e(t)})},signin:function(n,o,e){var r={email:n,password:o};i.post(t+"/signin",r).done(function(n){e(null,n)}).fail(function(n,i,t){e(t)})},setRedirect:function(n,o){var e={callbackUri:n};i.post(t+"/social",e).done(function(){o()}).fail(function(n,i,t){o(t)})},facebook:function(){n.location.href=t+"/facebook"},twitter:function(){n.location.href=t+"/twitter"},google:function(){n.location.href=t+"/google"},vk:function(){n.location.href=t+"/vk"},refresh:function(n,o){i.ajax({url:t+"/refresh",type:"GET",headers:{Authorization:"JWT "+n}}).done(function(n){o(null,n)}).fail(function(n,i,t){o(t)})},signout:function(n,o){i.ajax({url:t+"/signout",type:"DELETE",headers:{Authorization:"JWT "+n}}).done(function(){o()}).fail(function(n,i,t){o(t)})},signoutall:function(n,o){i.ajax({url:t+"/signoutall",type:"DELETE",headers:{Authorization:"JWT "+n}}).done(function(){o()}).fail(function(n,i,t){o(t)})},merge:function(n,o,e){i.ajax({url:t+"/merge",type:"POST"}).done(function(){e()}).fail(function(n,i,t){e(t)})},unmerge:function(n,o,e,r){i.ajax({url:t+"/unmerge",type:"DELETE",headers:{Authorization:"JWT "+n}}).done(function(){r()}).fail(function(n,i,t){r(t)})},get:function(n,o){i.ajax({url:t+"/account",type:"GET",headers:{Authorization:"JWT "+n}}).done(function(n){o(null,n)}).fail(function(n,i,t){o(t)})},del:function(n,o){i.ajax({url:t+"/account",type:"DELETE",headers:{Authorization:"JWT "+n}}).done(function(){o()}).fail(function(n,i,t){o(t)})}}}}(window,window.jQuery),function(n,i){if(!i)return console.error("jQuery required.");var t=n.clbr=n.clbr||{};t.profilesApi=function(n){return{get:function(t,o,e){i.ajax({url:n+"/"+t,type:"GET",headers:{Authorization:"JWT "+o}}).done(function(n){e(null,n)}).fail(function(n,i,t){e(t)})},"public":function(t,o,e){i.ajax({url:n+"/public/"+t,type:"GET",headers:{Authorization:"JWT "+o}}).done(function(n){e(null,n)}).fail(function(n,i,t){e(t)})},update:function(t,o,e,r,u){var a={email:o,name:e};i.ajax({url:n+"/"+t,type:"PUT",headers:{Authorization:"JWT "+r},data:a}).done(function(n){u(null,n)}).fail(function(n,i,t){u(t)})}}}}(window,window.jQuery),function(n,i,t){"use strict";var o=i.module("auth-api",["settings"]);o.factory("authApi",["urls",function(n){return t.authApi(n.authApi)}])}(window,window.angular,window.clbr),function(n,i){"use strict";i.module("constants",[]).constant("events",{login:"login",logout:"logout"})}(window,window.angular),function(n,i){"use strict";var t=i.module("directives",["menu"]);t.directive("cbConfirm",function(){return{restrict:"A",require:"ngModel",link:function(n,i,t,o){var e=function(){var i=n.$eval(t.ngModel),o=n.$eval(t.cbConfirm);return i==o||!i&&!o};n.$watch(e,function(n){o.$setValidity("match",n)})}}})}(window,window.angular),function(n,i){"use strict";var t=i.module("home",["ui.router"]);t.config(["$stateProvider",function(n){n.state("home",{url:"/",templateUrl:"home.html",controller:"HomeCtrl",data:{pageTitle:"Clickberry Video Portal"}})}]),t.controller("HomeCtrl",["$scope","$state",function(n,i){}])}(window,window.angular),function(n,i){"use strict";var t=i.module("menu",["user","constants"]);t.directive("cbMenu",["$state","events","user",function(n,i,t){return{restrict:"EA",replace:!0,templateUrl:"menu.html",link:function(o){o.menuExpanded=!1,o.expandMenu=function(){o.menuExpanded=!o.menuExpanded},o.user=null,o.$on(i.login,function(n,i){o.user=i,o.$digest()}),o.$on(i.logout,function(){o.user=null}),o.signoff=function(){t.destroy()},o.signup=function(){n.go("signup")},o.signin=function(){n.go("signin")},o.profile=function(){n.go("profile")}}}}])}(window,window.angular),function(n,i){"use strict";var t=i.module("profile",["ui.router","profiles-api","user"]);t.config(["$stateProvider",function(n){n.state("profile",{url:"/profile",templateUrl:"profile.html",controller:"ProfileCtrl",data:{pageTitle:"Your Profile on Clickberry"}})}]),t.controller("ProfileCtrl",["$scope","$state","profilesApi","user",function(n,i,t,o){n.profile={},n.loading=!1,n.submit=function(i){n.loading=!0,t.update(o.id,i.email,i.name,o.accessToken,function(i){if(i)throw i;n.loading=!1,n.$digest()})},function(){n.loading=!0,t.get(o.id,o.accessToken,function(i,t){if(i)throw i;n.profile=t,n.loading=!1,n.$digest()})}()}])}(window,window.angular),function(n,i,t){"use strict";var o=i.module("profiles-api",["settings"]);o.factory("profilesApi",["urls",function(n){return t.profilesApi(n.profilesApi)}])}(window,window.angular,window.clbr),function(n,i){"use strict";i.module("settings",[]).constant("urls",{web:"http://192.168.99.100:8081",authApi:"http://auth.qa.clbr.ws",profilesApi:"http://profiles.qa.clbr.ws"})}(window,window.angular),function(n,i){"use strict";var t=i.module("signin",["ui.router","auth-api","user"]);t.config(["$stateProvider",function(n){n.state("signin",{url:"/signin",templateUrl:"signin.html",controller:"SigninCtrl",data:{pageTitle:"Sign in to Clickberry"}})}]),t.controller("SigninCtrl",["$scope","$state","authApi","user",function(n,i,t,o){n.signin={},n.submit=function(n){t.signin(n.email,n.password,function(n,t){if(n)throw n;o.init(t.accessToken,t.refreshToken),i.go("home")})},n.goFacebook=function(){t.facebook()},n.goTwitter=function(){t.twitter()},n.goGoogle=function(){t.google()},n.goVk=function(){t.vk()}}])}(window,window.angular),function(n,i){"use strict";var t=i.module("signup",["ui.router","auth-api"]);t.config(["$stateProvider",function(n){n.state("signup",{url:"/signup",templateUrl:"signup.html",controller:"SignupCtrl",data:{pageTitle:"Sign up on Clickberry"}})}]),t.controller("SignupCtrl",["$scope","$state","authApi",function(n,i,t){n.signup={},n.submit=function(n){t.signup(n.email,n.password,function(n,t){return n?alert("Error: "+n.message):(alert("Ok: "+JSON.stringify(t)),void i.go("home"))})},n.goFacebook=function(){t.facebook()},n.goTwitter=function(){t.twitter()},n.goGoogle=function(){t.google()},n.goVk=function(){t.vk()}}])}(window,window.angular),function(n,i){"use strict";var t=i.module("user",["auth-api","settings","constants"]);t.factory("user",["$rootScope","$interval","authApi","urls","events",function(n,t,o,e,r){function u(i){n.$broadcast(r.login,i)}function a(){n.$broadcast(r.logout)}function l(n,i){var e=this;e.accessToken=n,e.refreshToken=i,o.get(n,function(n,i){if(n)throw n;e.id=i.id,e.email=i.email,u({id:i.id,email:i.email})}),s=t(function(){o.refresh(i,function(n,i){if(n)throw n;e.accessToken=i.accessToken,e.refreshToken=i.refreshToken})},6e4)}function c(){t.cancel(s),i.extend(this,f),a()}var s,f={id:void 0,email:void 0,accessToken:void 0,refreshToken:void 0};return o.setRedirect(e.web,function(){}),{init:l,destroy:c}}])}(window,window.angular),function(n,i){"use strict";var t=i.module("clbr",["ui.router","ngMaterial","home","signup","signin","profile","directives"]);t.config(["$urlRouterProvider","$locationProvider","$stateProvider","$mdThemingProvider",function(n,i,t,o){t.state("clbr",{"abstract":!0,template:"<div ui-view></div>"}),n.otherwise("/"),o.theme("default").primaryPalette("grey").accentPalette("green",{"default":"500","hue-1":"200","hue-2":"700","hue-3":"A200"})}]),t.controller("ClickberryCtrl",["$rootScope",function(n){n.pageTitle="Clickberry Video Portal",n.$on("$stateChangeSuccess",function(t,o){i.isDefined(o.data)&&i.isDefined(o.data.pageTitle)&&(n.pageTitle=o.data.pageTitle)})}])}(window,window.angular);
//# sourceMappingURL=../maps/clbr.min.js.map
